鼠标闪烁的原因是因为一会儿描绘一会儿消除。想要消除闪烁就要在刷新窗口时避开鼠标所在的地方，对VRAM进行写入处理。

新建一块内存，大小和VRAM一样，命名为map。

这块内存用于表示画面上点是哪个图层的像素，所以就相当与是图层的地图。之后刷新是一边看着map一边刷新，这样就不必担心重叠部分被覆盖了。

实现：
我们在sheet_refreshmap中实现对它的赋值等操作，将（sht-ctl->sheets0）这个偏移地址作为图层号码使用。这个函数与sheet_refreshsub函数有些相似。

我们对sheet_refreshsub中进行改写，使得它可以使用map。

今后的程序会对照map内容来向VRAM写入，因此没有必要从下面开始一直刷新到最上面一层。

最后，将调用sheet_refreshsub函数的部分进行改写（sheet_refresh函数，sheet_slide函数，sheet_updown函数）

注意：
在sheet_slide函数中，首先要重写map。在移动前的地方，只针对上层移走而露出的下层进行重绘就可以了，在移动目的处仅重绘一张移动过去的图层。

在sheet_updown函数中，末尾调用sheet_refreshsub函数之前，要调用sheet_refreshmap函数来重做map，